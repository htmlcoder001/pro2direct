"use strict";(self.webpackChunkvkmvk=self.webpackChunkvkmvk||[]).push([[2566],{44193:function(e,t,n){var o=n(65364);window.isBootstrapInited||((0,o.setDocumentDomain)(),window.isBootstrapInited=!0)},17811:function(e,t,n){n(44193);var o=n(87325),i=n(86313),a=n(52078),r=n(70184),s=n(69239),d=n(30876),l=n(44111);var c=n(15648),w=n(90345),u=n(38691),v=n(94319),p=n(59400),m=n(94950),h=n(34683),S=n(35062),f=n(67024),g=n(39450);const E="sw_static_origin";var y=n(80161),_=n(98584);function C(e,t){if(e.nodeValue)try{const n=JSON.parse(e.nodeValue.replace(t+":",""));(0,y.addEntries)(n,"async"===t?f.LOADING_MODE.ASYNC:f.LOADING_MODE.DEFER),e.remove()}catch(e){(0,_.logError)(e,{environment:"static_manager"})}}function b(e){return 8===(null==e?void 0:e.nodeType)}function k(){var e,t;(null==(e=window.vk)?void 0:e.static.domain)&&((t=window.vk.static.domain,(0,g.iDBKVSet)(E,t||"")).catch((()=>{})),A())}let P=!1;function A(){var e;(null==(e=window.vk)?void 0:e.static.domain)&&!P&&(P=!0,n.p=window.vk.static.domain+n.p)}function B(e){const t=e.slice(0,e.lastIndexOf("."))+".js";(0,S.markEntryLoaded)(t)}A();n(15385);(0,S.initTiming)(),window.colorSchemeInit&&(c.colorScheme.isModeSavingAllowed=window.colorSchemeInitIsModeSavingAllowed,c.colorScheme.init(window.colorSchemeInit),delete window.colorSchemeInitIsModeSavingAllowed,delete window.colorSchemeInit);const M={},T={};let I=null,O=!1;const L=[];window.deferStaticEntries.forEach((e=>{(0,i.getEntryAssets)(e).forEach((e=>{L.includes(e)||L.push(e)}))})),L.sort(),window.deferStaticAssetsHash=JSON.stringify(L),window.deferStaticStatuses||(window.deferStaticStatuses={});const N=L.map((e=>new Promise((t=>{window.deferStaticStatuses[e]={set resolved(e){this._resolved=e,t()},set loaded(e){this._loaded=e}}}))));if(k(),window.hasOwnProperty("stManager")||(window.stManager={done:B}),window.vk.static.init_entries.forEach((e=>{(0,S.markEntryLoaded)(e),S.FORCE_LOADED_ENTRIES.includes(e)||(0,i.getEntryAssets)(e).forEach((t=>{const n=(0,i.makeStaticSrc)(t),o=(0,p.isCSSFile)(n)&&(0,p.findCSSLinkTagByPath)(n),a=(0,p.isJSFile)(n)&&(0,p.findScriptTagByPath)(n);((0,p.isJSFile)(n)&&!(0,p.findScriptTagByPath)(n)||(0,p.isCSSFile)(n)&&!(0,p.findCSSLinkTagByPath)(n))&&console.warn(`Not found blocking ${n} asset from ${e}`),o&&window.vk.static.flushed_entries.includes(t)||(a||o)&&(0,S.markAssetLoaded)(t)}))})),window.vk.static.init_entries=[],((0,h.partConfigEnabled)("mvk_speedup_defer_static")?w.idleCallback:w.delayedExecution)((()=>{Array.from(document.head.childNodes).forEach((e=>{var t,n;b(e)&&(null==(t=e.nodeValue)?void 0:t.startsWith("defer:"))?C(e,"defer"):b(e)&&(null==(n=e.nodeValue)?void 0:n.startsWith("async:"))&&window.onloadDeferStatic((()=>{C(e,"async")}),!0)}))}),{timeout:300}),(0,h.partConfigEnabled)("mvk_navigation_progress_bar"))a.ProgressBarManager.start(N);else{const e=document.getElementById("head-progress-bar-container");e&&(e.style.display="none")}const D=Promise.allSettled(N).then((()=>{O=!0}));function x(e,t){let n,i=t;return i&&i!==window.deferStaticEntries?(i.sort(),n=JSON.stringify(i)):(i=window.deferStaticEntries,n=window.deferStaticAssetsHash),function(...t){M[n]?M[n].finally((()=>e(...t))):M[n]=D.then((()=>(0,o.addStatic)(i))).finally((()=>e(...t)))}}function F(e,t=!1){(0,h.partConfigEnabled)("mvk_force_execute_callback_when_defer_resolved")&&O?e():!0===t?x(e,window.deferStaticEntries)():(0,w.delayedExecution)((()=>{x(e,window.deferStaticEntries)()}))}window._onloadDeferCallbacks.forEach((e=>F(e))),delete window._onloadDeferCallbacks,window.onloadDeferStatic=F,(0,s.isTQInitialized)()||(0,r.init)(window.onloadDeferStatic);const V=(e,t)=>new Proxy(e,{get:(e,n)=>n in e?e[n]:V(e,t+"."+n),apply(e,n,o){const i=Object.values(window.deferStaticStatuses),a=t.split(".");if(i.every((e=>e._resolved)))return void delete window[a[0]];const r=t+JSON.stringify(o.map((e=>"function"==typeof e?e.toString():e===window?"_window__hash":e)));return clearTimeout(I),I=setTimeout((()=>{I=null}),8e3),r in T||(T[r]=()=>{let e=window;a.forEach((t=>e=e[t])),null==e||e.apply(n,o)},F((()=>{Boolean(I)&&T[r]&&(setTimeout((()=>{var e;null==(e=T[r])||e.call(T),delete T[r]}),0),clearTimeout(I))}))),V(e,t)}});function R(e){e.preventDefault()}window._elementsForPreventingBehavior=[],(0,w.delayedExecution)((()=>{document.head.removeChild(window._preventPointerEventsElement),delete window._preventPointerEventsElement,window._elementsForPreventingBehavior=Array.from(document.querySelectorAll('a, button, input[type="submit"]'));const e=[];Array.from(document.querySelectorAll(window._preventEvents.map((e=>`[on${e}]`)).join(", "))).forEach((t=>{e.push(...function(e){const t=[];return window._preventEvents.map((e=>`on${e}`)).forEach((n=>{if(e.hasAttribute(n)){const o=e.getAttribute(n),i=n.split("on")[1],a=new Function(o);function r(t){Object.values(window.deferStaticStatuses).some((e=>e._resolved))||a.call(e,t)}e.addEventListener(i,r),t.push({element:e,handlerName:i,handler:n,callbackString:o,eventCallback:r}),e.setAttribute("_"+n,o),e.setAttribute(n,"return false;")}})),t}(t))})),F((()=>{e.forEach((({element:e,handlerName:t,handler:n,callbackString:o,eventCallback:i})=>{e.removeEventListener(t,i),e.removeAttribute("_"+n),e.setAttribute(n,o)}))})),window._elementsForPreventingBehavior.forEach((e=>{window._preventEvents.forEach((t=>{"touchstart"!==t&&"touchend"!==t&&e.addEventListener(t,R)}))})),F((()=>{window._elementsForPreventingBehavior.forEach((e=>{window._preventEvents.forEach((t=>{e.removeEventListener(t,R)}))})),delete window._elementsForPreventingBehavior}))}));const j=["onBodyScroll","onBodyResize","re","formatTime","isUndefined","isFunction","isArray","isObject","isEmpty","escapeRE","bind","intval","qs2obj","obj2qs","each","copy","addEvent","removeEvent","stopEvent","cancelEvent","checkEvent","onCtrlEnter","submitBtn","winToUtf","shortCurrency","scrollTop","checkPostsSeen","autoScroll","scrollToEl","lockButton","unlockButton","ge","geByClass","geByClass1","gpeByClass","geByTag","geByTag1","geBySel1","domPS","append","before","after","replace","remove","tag","show","hide","isVisible","toggle","ce","elfocus","val","attr","setStyle","hasClass","addClass","removeClass","toggleClass","replaceClass","switchClass","getXY","getY","getW","getH","getSize","getHref","langSex","langNumeric","langWordNumeric","langDate","domClosestOverflowHidden","copyToClipboard","blinkItem","domPN","getLang","domData","scrollGetY","domInsertBefore","isIosWebView","last","openApp","rs","matchesSelector","browser","mobPlatforms","isTouch","has3d","makeUrl","showNarrative","cdf","Share","postMessage","AlertBox","initPushNotifier","emitServerEvent","page","post","zlayer","nav","MainMenu","ajax","doNavProxy","doNav","Apps","audioplayer","Tooltip","Curator","Reactions","Select","uMailWrite","Convo","MailActs","MailDialog","MailHat_main","MailScrap","Msg","mediaUpload","SAKIntegration","Messenger","uMessenger","DirectGamesCatalog","AudioPlaylist","Section","PWABanner","UnsupportedBrowser","CookiePolicy","ContextMenu","VkIdSavedUsers","ReportConfirm","GameSubscription","LoginHistory","Subscriptions","saveSettings","DirectGames","AppsStub","MiniAppsProfileButtons","PasswordInput","Unfold","Slider","ConfirmPopup","ModalMenu","RecommendedMiniAppsBlock","RecommendedNarrativesBlock","GroupsMenu","WarningModal","CasperHiddenMessages","CasperTimer","GroupCallSnippet","MailHat_convo","MsgTemplates","PeerProfile","Cart","DeliveryCitySelect","CartOrder","DeliveryPoint","MarketItemProduct","OrderDetails","ItemsList","Variants","MoneyTransferReceipt","NarrativesBlock","CoronaStatus","IPadBanner","OfflinePage","PromoVKConnect","StoryPublisher","TextliveFeedBanner","VideoRestriction","VideoFilterBadge","VideoFilterModal","VotingForm","PostDraftReminder","WallSearch","ImageStatus","Settings","Artist","LoadMore","Popup","SearchPanel","SliderTabs","Bookmarks","MailTemplatePage","PostAttachVideoLink","posting","Voting","Wall","AdultConfirm","Control","TextInput","Mention","PinnedMsg","MailFilter","photo","statlogsValueEvent","RecommendedGroupsSlider",...(0,h.partConfigEnabled)("mvk_unused_skins_delete")?[]:["MessageRequestBox","MessageRequestsPage","AutoReplenishmentSettings","LovinaPromotion","AuthCheck"]];function H(){var e,t;(null==(t=window.Speech)||null==(e=t.recorder)?void 0:e.isRecording)||window.onBodyScroll(!0,window.getScrollTop())}window.deferStaticEntries.length>0&&(window.onBodyResize=null,j.forEach((e=>{Boolean(window[e])||(window[e]=()=>{},window[e]=function(e,t){return V(e,t)}(window[e],e))})),(0,w.delayedExecution)((()=>{window.initPushNotifier()}))),(0,w.delayedExecution)((()=>{(0,m.waitAppShellFinish)().then((()=>{(()=>{var e;let t=!1;l.navigationStat.sendTabOpen(),(0,d.handleModuleChanged)((null==(e=window.cur)?void 0:e.module)||""),document.hidden||l.navigationStat.sendShow(),window.addEventListener("visibilitychange",(()=>{t||(document.hidden?l.navigationStat.sendHide():l.navigationStat.sendShow())})),window.addEventListener("beforeunload",(()=>{t=!0,document.hidden||l.navigationStat.sendHide(),l.navigationStat.sendTabClose()}))})()})),window.htmlNode=document.querySelector("html"),window.bodyNode=document.body}));let G=!1;try{const e=Object.defineProperty({},"passive",{get:function(){G=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}function W(e,t,n=100){window[e]={};const i={},a={};let r;const s=t=>{a[t]=setTimeout((()=>{window[e][t](...i[t])}),n)};return n=>{n.forEach((n=>{window[e][n]=(...e)=>((e,n)=>a[e]?(clearTimeout(a[e]),i[e]=n,s(e),!1):(r||(r=(0,o.addStatic)(t)),i.hasOwnProperty(e)||r.then((()=>s(e))),i[e]=n,!1))(n,e)}))}}G?(window.addEventListener("touchmove",H,{passive:!0}),window.addEventListener("scroll",H,{passive:!0})):(window.addEventListener("touchmove",H),window.addEventListener("scroll",H)),window.getScrollTop=function(){var e;const{htmlNode:t,bodyNode:n,scrollBodyNode:o}=window;return(null==(e=[t,o,n].find((e=>e&&"scrollTop"in e&&e.scrollTop>0)))?void 0:e.scrollTop)||0},window.initPostsStats=function(e){const{cur:t}=window;if(t&&e)if(t.alPostsStatsObjects=e,window.checkPostsSeen(window.getScrollTop()),window.onBodyScroll((function(e,t){window.checkPostsSeen(t)})),(0,h.partConfigEnabled)("feed_posts_duration_stats_upgrade_mvk")||(0,h.partConfigEnabled)("feed_posts_duration_stats_fix_mvk")){const e=new CustomEvent("initPostsStats");window.dispatchEvent(e)}else F((()=>{window.onEmitOnce(window.nav.onBeforeGo,(()=>{window.pStats.send(),window.pStats.resetSendTimer()}))}))};let q=W("OwnerPhotoUpload2",["owner_photo_upload.js","owner_photo_upload.css"]);q(["onSaveOwnerAvatar","setContext","setNftAvatar","onUploadInputChange","handleFile","saveOwnerAvatar","onPostPublishChange","onStoryPublishChange","onPublisherStepDone","showDoneBoxAfterAvatarChange","closePublisherStep","selectPhoto"]);let U=W("photo",["photoview.js","photo.js"]);U(["openInLayer","openInPhotoview","openExternal"]),setTimeout((()=>{q=null,U=null,Object.keys(window.deferStaticStatuses).forEach((e=>{var t,n;window.deferStaticStatuses[e]._resolved||(t=e,(0,u.statlogsValueEvent)("mvk_failed_to_resolve_defer_static",t,document.visibilityState,window.highestEcmaSupported,(0,v.isModernCSSSupported)(),(0,p.isCSSFile)(t)?"CSS":"JS",(null==(n=window.cur)?void 0:n.module)||"unknown"))}))}),6e4),window._ua=navigator.userAgent.toLowerCase(),requestIdleCallback((()=>{try{(0,u.statlogsValueEvent)("entries_requests",1,"window_proxy","mvk")}catch(e){}}),{timeout:5e3});try{stManager.done("window_proxy.js")}catch(e){console.error(e)}}},function(e){e.O(0,[8096,7718,4556,9797,1996,8772,3461],(function(){return t=17811,e(e.s=t);var t}));e.O()}]);