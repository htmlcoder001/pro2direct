"use strict";(self.webpackChunkvkmvk=self.webpackChunkvkmvk||[]).push([[1996],{42923:function(t,e,n){function o(){const t=[],e=r.bind(t);return e.off=i.bind(t),e._fns=t,e}function r(){const t=this,e=arguments;if("function"!=typeof e[0]){let n=!1;for(let o=0;o<t.length;o++)!0===t[o].apply(null,e)&&(n=!0);return n}Array.prototype.slice.call(e).forEach((e=>t.push(e)))}function i(t){const e=this;t?function(t,e){for(;;){const n=t.indexOf(e);if(!(n>=0))break;t.splice(n,1)}}(e,t):e.length=0}function c(t,e){const n=(...o)=>{e(...o),setTimeout((()=>{t.off(n)}))};t(n)}n.d(e,{onEmitOnce:function(){return c}}),e.default=Object.assign(o,{kind:function(){const t={};return e=>t[e]||(t[e]=o())}}),window.befall=o,window.onEmitOnce=c},15385:function(t,e,n){n.d(e,{HEADER_HEIGHT:function(){return o},processSkeletonElements:function(){return l}});const o=56;let r=new Set;const i=()=>{const t=Array.from(r.values()).filter((t=>Boolean(t))).map((t=>{const e=Math.round(t.getBoundingClientRect().left),n=`skeleton-gradient-slide-${e}`;return function(t,e){if(s[t])return;const n=function(t,e){return[`@${c()}keyframes ${t} {`,e.map(((t,n)=>[`\t${n/(e.length-1)*100}% {`,Object.keys(t).map((e=>`\t\t${e}: ${t[e]};`)).join("\n"),"\t}"].join("\n"))).join("\n"),"}"].join("\n")}(t,e);s[t]=n,requestAnimationFrame((()=>a.appendChild(document.createTextNode(n))))}(n,[{"background-position-x":-600-e+"px"},{"background-position-x":window.innerWidth-e+"px"}]),{el:t,prop:`${n} 1.2s infinite cubic-bezier(0.4, 0.0, 0.2, 1)`}}));requestAnimationFrame((()=>{t.forEach((({el:t,prop:e})=>{t.style[`${c()}animation`]=e})),r.clear()}))};function c(){let t="";if(document){t=null!=(document.documentElement||document.createElement("div")).style.animation?"":"-webkit-"}return t}const s={},a=document.createElement("style");function l(){setTimeout((()=>{document.querySelectorAll("[data-skeleton-el=true]").forEach((t=>r.add(t))),i()}),0)}document.head.appendChild(a),l()},87325:function(t,e,n){n.d(e,{addStatic:function(){return o.addStatic}});var o=n(80161)},28703:function(t,e,n){n.d(e,{counterId:function(){return o},getCustomCounterIdTmrUtils:function(){return s},tmrFinishTimespent:function(){return S},tmrPushRawEvent:function(){return c},tmrSendTimespentEvent:function(){return E},tmrStartTimespent:function(){return d},tmrTrackCustomGoal:function(){return u},tmrTrackMiniAppClose:function(){return v},tmrTrackMiniAppCustom:function(){return C},tmrTrackMiniAppEvent:function(){return p},tmrTrackMiniAppOpen:function(){return _},tmrTrackPage:function(){return l},tmrUpdateUserId:function(){return a}});const o="2579437",r={MINI_APP_EVENT:"miniAppEvent"};function i(){return window.vk&&window.vk.id?window.vk.id:0}function c(t){window.vk&&window.vk.zero||window.__dev||(window._tmr=window._tmr||[],window._tmr.push(t))}function s(t){const e=e=>{const n=i();i&&c({id:t,type:r.MINI_APP_EVENT,params:{...e,platformUserId:String(n)}})},n="open",o="close",s="custom";return{tmrUpdateUserId:()=>{c({type:"setUserID",userid:i()})},tmrTrackPage:(e,n)=>{c({id:t,url:e,referrer:n,type:"pageView",start:(new Date).getTime(),pid:i(),userid:i(),timespent:!0})},tmrTrackCustomGoal:(e,n={})=>{c({id:t,type:"reachGoal",goal:e,userid:i(),params:n})},tmrSendTimespentEvent:e=>{c({id:t,type:"incrementEventTimespent",activity:e,userid:i()})},tmrStartTimespent:(e,n=!1)=>{c({id:t,type:"startTimespent",activity:e,userid:i(),canUseInBackground:n})},tmrFinishTimespent:(e,n=!1)=>{c({id:t,type:"stopTimespent",activity:e,userid:i(),canUseInBackground:n})},tmrTrackMiniAppEvent:e,tmrTrackMiniAppOpen:(t,o)=>{e({eventType:n,miniAppId:t,queryParams:o})},tmrTrackMiniAppClose:t=>{e({eventType:o,miniAppId:t})},tmrTrackMiniAppCustom:(t,n)=>{e({eventType:s,miniAppId:t,...n})}}}const{tmrUpdateUserId:a,tmrTrackPage:l,tmrTrackCustomGoal:u,tmrSendTimespentEvent:E,tmrStartTimespent:d,tmrFinishTimespent:S,tmrTrackMiniAppEvent:p,tmrTrackMiniAppOpen:_,tmrTrackMiniAppClose:v,tmrTrackMiniAppCustom:C}=s(o)},4731:function(t,e,n){n.d(e,{clean:function(){return M},copy:function(){return y},each:function(){return P},escapeAttr:function(){return S},escapeRE:function(){return o.escapeRegExp},escapeStr:function(){return v},htsc:function(){return d},intval:function(){return f},irand:function(){return h},isAnchorElement:function(){return N},isArray:function(){return l},isElement:function(){return A},isEmpty:function(){return E},isFormData:function(){return s},isFunction:function(){return c},isHttpHref:function(){return g},isObject:function(){return u},isRetina:function(){return o.isRetina},isString:function(){return a},isUndefined:function(){return i},rand:function(){return r},replaceEntities:function(){return _},srand:function(){return T},stripTags:function(){return C},unclean:function(){return k},unescapeAttr:function(){return p},utf2win:function(){return m},vkImage:function(){return w},vkNow:function(){return I}});var o=n(16309);const r=(t,e)=>Math.random()*(e-t+1)+t,i=t=>void 0===t,c=t=>t&&"[object Function]"===Object.prototype.toString.call(t),s=t=>t&&"[object FormData]"===Object.prototype.toString.call(t),a=t=>"string"==typeof t,l=t=>"[object Array]"===Object.prototype.toString.call(t),u=t=>"[object Object]"===Object.prototype.toString.call(t),E=t=>{if(!u(t))return!1;for(let e in t)if(t.hasOwnProperty(e))return!1;return!0},d=t=>t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;").replace(/%/g,"&#37;"),S=t=>t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;"),p=t=>t.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'"),_=t=>{const e=document.createElement("textarea");return e.innerHTML=(t||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),e.value},v=t=>t.replace(/\'/g,"\\'"),C=t=>t.replace(/<[^>]+>/g,""),T=()=>Math.random().toString(36).substr(2),h=(t,e)=>Math.floor(r(t,e)),m=t=>unescape(encodeURIComponent(t));function g(t){let e=(t+"").split(":"),n=e[1]&&e[0]?e[0]+":":location.protocol;return"http:"===n||"https:"===n}const I=()=>+new Date;function f(t){return!0===t?1:parseInt(t)||0}function P(t,e){if(!t)return t;if(u(t)||void 0===t.length){for(let n in t)if(t.hasOwnProperty(n)&&!1===e.call(t[n],n,t[n]))break}else for(let n=0,o=t.length;n<o;n++){const o=t[n];if(!1===e.call(o,n,o))break}return t}function y(t){return l(t)?t.concat([]):u(t)?Object.assign({},t):t}const w=()=>window.Image?new Image:document.createElement("img"),A=t=>"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName;function N(t){return"object"==typeof t&&A(t)&&"A"===t.tagName}function M(t=""){return t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}function k(t){return t?_(t.replace(/\t/g,"\n")):t}},19518:function(t,e){function n(){return navigator.connection||navigator.mozConnection||navigator.webkitConnection}function o(){const t=n();return t&&t.type||"unknown"}function r(){const t=n();return t&&t.effectiveType||"unknown"}e.default={getConnection:n,getConnectionType:o,getConnectionEffectiveType:r,getConnectionTypeID:function(){return{unknown:0,bluetooth:1,cellular:2,ethernet:3,none:4,wifi:5,wimax:6,other:7}[o()]||0},getConnectionEffectiveTypeID:function(){return{unknown:0,"slow-2g":1,"2g":2,"3g":3,"4g":4}[r()]||0}}},91975:function(t,e,n){function o(t,e){return new Promise((n=>{setTimeout(n.bind(null,e),1e3*t)}))}function r(t,e,n=null){let r=0;return function i(...c){return Promise.resolve().then((()=>t(...c))).catch((t=>{if(r++,r<=e){const t="function"==typeof n?n(r):0;return 0===t?i(...c):o(t).then((()=>i(...c)))}throw t}))}}function i(t,e){let n;const o=new Promise((o=>{n=o,setTimeout(o.bind(null,e),1e3*t)}));return{pause:()=>o,abort(){n(e)}}}n.d(e,{abortablePause:function(){return i},pause:function(){return o},retryFn:function(){return r}})},39450:function(t,e,n){n.d(e,{iDBKVGet:function(){return u},iDBKVRemove:function(){return d},iDBKVSet:function(){return E},isIDBAvailable:function(){return c}});var o=n(39009);const r="sw_keyval_db",i="keyval";function c(){const t=(0,o.getGlobalObject)();return!!(t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB)}function s(t,e){return new Promise(((n,o)=>{let r=function(){if(!c())throw new Error("IndexedDB is unavailable");return indexedDB}().open(t);r.onerror=t=>o(t.target.errorCode?new Error(t.target.errorCode):t.target.error),r.onsuccess=t=>n(t.target.result),r.onupgradeneeded=t=>{let r=t.target.result;return e(r).then((t=>n(t)),(()=>o(new Error("IndexedDB upgrade failed"))))}}))}function a(t,e){return t.transaction([e],"readwrite").objectStore(e)}function l(){return s(r,(t=>new Promise(((e,n)=>{let o=t.createObjectStore(i,{keyPath:"key"});o.onerror=t=>n(t.target.errorCode?new Error(t.target.errorCode):t.target.error),o.oncomplete=()=>e(t)}))))}function u(t){return l().then((e=>new Promise(((n,o)=>{let r=a(e,i).get(t);r.onerror=t=>o(t.target.errorCode?new Error(t.target.errorCode):t.target.error),r.onsuccess=()=>n(r.result&&r.result.val)}))))}function E(t,e){return l().then((n=>new Promise(((o,r)=>{let c=a(n,i).put({key:t,val:e});c.onerror=t=>r(t.target.errorCode?new Error(t.target.errorCode):t.target.error),c.onsuccess=()=>o()}))))}function d(t){return l().then((e=>new Promise(((n,o)=>{let r=a(e,i).delete(t);r.onerror=t=>o(t.target.errorCode?new Error(t.target.errorCode):t.target.error),r.onsuccess=()=>n()}))))}},99518:function(t,e,n){var o;n.d(e,{MyTrackerActivityId:function(){return o}}),function(t){t[t.MusicTrackListenedDAU=2]="MusicTrackListenedDAU",t[t.CommunitySubscribe=11]="CommunitySubscribe",t[t.MusicScreen=80]="MusicScreen",t[t.MusicListen=85]="MusicListen",t[t.MusicSnippetsListen=86]="MusicSnippetsListen",t[t.AudiobooksListen=87]="AudiobooksListen",t[t.PodcastsListen=88]="PodcastsListen",t[t.RadioListen=89]="RadioListen",t[t.PodcastEpisodeListenedDAU=92]="PodcastEpisodeListenedDAU",t[t.AudiobookListenedDAU=93]="AudiobookListenedDAU",t[t.RadiostationListenedDAU=94]="RadiostationListenedDAU",t[t.MusicSnippetListenedDAU=95]="MusicSnippetListenedDAU"}(o||(o={}))},94950:function(t,e,n){n.d(e,{isAppShellRunning:function(){return i},onPageReady:function(){return r},waitAppShellFinish:function(){return c}});var o=n(42923);const r=(0,o.default)();function i(){return window.cur.is_appshell}function c(){return i()?new Promise((t=>{(0,o.onEmitOnce)(r,t)})):Promise.resolve()}},52078:function(t,e,n){n.d(e,{ProgressBarManager:function(){return S}});var o=n(91975);let r,i,c=[],s=0;const a=()=>(0,o.pause)(.3),l=()=>r instanceof HTMLElement&&i instanceof HTMLElement,u=()=>{c=[],s=0,l()&&(i.style.visibility="hidden",r.style.transform="translate(0%)")},E=()=>{r||(r=document.getElementById("head-progress-bar"),i=r.parentElement),l()&&(i.style.visibility="visible",requestAnimationFrame((()=>{r.style.transform="translate(40%)"})))},d=function(t,e,n=window){let o,r;const i=()=>t.apply(n,r),c=(...t)=>{r=t,clearTimeout(o),o=setTimeout(i,e)};return c.cancel=()=>{clearTimeout(o)},c}((t=>{if(0!==t.length)return c=t,E(),Promise.all(c.map((t=>t.then((()=>{s++,(()=>{const t=40+60*Math.min(1,s/c.length);l()&&requestAnimationFrame((()=>{r.style.transform=`translateX(${t.toFixed(2)}%)`}))})()}))))).then(a).finally(u);u()}),.3),S={initialize:E,start:d}},86313:function(t,e,n){n.d(e,{getEntriesAssets:function(){return f},getEntryAssets:function(){return I},loadStaticFile:function(){return y},makeStaticSrc:function(){return P},switchFileNameBuildTypeSuffix:function(){return g}});var o=n(91975),r=n(17057),i=n(34683);const c=new Map;function s(t){const e=document.createDocumentFragment();return new MutationObserver((()=>{0!==e.childElementCount&&queueMicrotask((()=>{t.appendChild(e)}))})).observe(e,{childList:!0}),e}function a(){const t=new Map;return[t,function(e,n){return t.set(e,n),new Promise(((t,n)=>{c.set(e,{resolve:t,reject:n}),p()}))}]}const[l,u]=a(),[E,d]=a();let S=!1;function p(){S||0===l.size&&0===E.size||queueMicrotask((()=>{S||function(){S=!0;const t=[];l.forEach(((e,n)=>{t.push((0,o.retryFn)((()=>(0,r.loadScript)(n,_,{fetchPriority:(0,i.partConfigEnabled)("fetch_priority_experiment")?"high":"auto"})),3,(t=>.05*t))().then((([,t])=>{var e;return null==(e=c.get(n))?void 0:e.resolve(t)})).catch((t=>{var e;return null==(e=c.get(n))?void 0:e.reject(t)})).finally((()=>c.delete(n))))})),l.clear(),E.forEach(((e,n)=>{t.push((0,o.retryFn)((()=>(0,r.loadStyle)(n,{preload:e.preload,target:v,fetchPriority:"low"})),3,(t=>.05*t))().then((([,t])=>{var e;return null==(e=c.get(n))?void 0:e.resolve(t)})).catch((t=>{var e;return null==(e=c.get(n))?void 0:e.reject(t)})).finally((()=>c.delete(n))))})),E.clear(),Promise.allSettled(t).then((()=>{S=!1,p()}))}()}))}const _=s(document.head),v=s(document.head);var C=n(35062),T=n(21131),h=n(67024),m=n(59400);function g(t,e,n){const o="_fallback";return n&&t.includes(o)&&(t=t.replace(`${o}${e}`,e)),n||t.includes(o)||(t=t.replace(e,`${o}${e}`)),t}function I(t,e){var n,o;return(0,m.isCSSFile)(t)?function(t,e){var n;return(null==(n=e[t=g(t,".css",(0,T.isModernCSS)())])?void 0:n.map((t=>`/${h.PREFIX_CSS}${t}`)))||[]}(t,e||(null==(n=window.vk)?void 0:n.static.assets)):(0,m.isJSFile)(t)?function(t,e){let n=e[t=g(t,".js",(0,T.isModernJS)())]||[];if((0,T.isModernCSS)()!==(0,T.isModernJS)()){var o;n=n.filter((t=>!(0,m.isCSSFile)(t)));const r=g(t,".js",(0,T.isModernCSS)()),i=(null==(o=e[(0,T.isModernCSS)()?t:r])?void 0:o.filter((t=>(0,m.isCSSFile)(t))))||[];n.push(...i)}return n.map((t=>`/${h.PREFIX_JS}${t}`))}(t,e||(null==(o=window.vk)?void 0:o.static.assets)):[]}function f(t,e){var n,o;const r=null!=(o=null!=e?e:null==(n=window.vk)?void 0:n.static.assets)?o:{};return t.reduce(((t,e)=>(r[e]&&(t[e]=r[e]),t)),{})}function P(t){return window.vk.static.domain?t.startsWith("/"+h.PREFIX_JS_INTERNAL)||t.startsWith("/"+h.PREFIX_CSS_INTERNAL)?t:window.vk.static.domain+t:t}function y(t,e=!1){const n=P(t),o=C.loaders.get(t);if(o)return o instanceof Promise?o:Promise.resolve(o);let r;return(0,m.isJSFile)(t)?r=u(n):(0,m.isCSSFile)(t)&&(r=d(n,{preload:e})),r&&(C.loaders.set(t,r),r.then((()=>{(0,C.markAssetLoaded)(t)})),r.catch((()=>{C.loaders.set(t,!1)}))),r||Promise.resolve(!0)}},35062:function(t,e,n){n.d(e,{FORCE_LOADED_ENTRIES:function(){return E},getLoadedAssets:function(){return h},getLoadedEntries:function(){return T},initTiming:function(){return u},loaders:function(){return d},markAssetLoaded:function(){return S},markEntryLoaded:function(){return C},waitEntryStart:function(){return v}});var o=n(86313),r=n(21131),i=n(59400),c=n(38691),s=n(19518);const{getConnectionEffectiveType:a}=s.default;let l;function u(){l=Date.now()}const E=["sentry.js","polyfills.js"],d=new Map;function S(t){d.set(t,!0),window.deferStaticStatuses||(window.deferStaticStatuses={}),window.deferStaticStatuses.hasOwnProperty(t)&&(window.deferStaticStatuses[t].loaded=!0,(0,i.isCSSFile)(t)&&(window.deferStaticStatuses[t].resolved=!0))}const p=new Set,_=new Map;function v(t){if(!(0,i.isJSFile)(t)||E.includes(t))return Promise.resolve();const e=function(t){const e=(0,i.isJSFile)(t);return(0,o.switchFileNameBuildTypeSuffix)(t,e?".js":".css",e?(0,r.isModernJS)():(0,r.isModernCSS)())}(t);if(p.has(e))return Promise.resolve();const n=_.get(e);if(n)return n[0];let c=()=>{};const s=new Promise((t=>{c=t}));return _.set(e,[s,c]),s}function C(t){var e;(0,c.statlogsValueEvent)("js_execute_timing",Date.now()-l,a(),t,(null==(e=window.cur)?void 0:e.module)||"unknown");const n=(0,o.getEntryAssets)(t);if(!n)return void console.error("Not found %s dependencies",t);const r=_.get(t);null==r||r[1](),p.add(t),n.forEach((t=>{var e;S(t),(null==(e=window.deferStaticStatuses)?void 0:e.hasOwnProperty(t))&&(window.deferStaticStatuses[t].resolved=!0)}))}function T(){return Array.from(p)}function h(){const t=[];return T().forEach((e=>{t.push((0,o.getEntryAssets)(e))})),t}},67024:function(t,e,n){var o;n.d(e,{LOADING_MODE:function(){return o},PREFIX_CSS:function(){return c},PREFIX_CSS_INTERNAL:function(){return s},PREFIX_JS:function(){return r},PREFIX_JS_INTERNAL:function(){return i}}),function(t){t[t.BLOCKING=1]="BLOCKING",t[t.DEFER=2]="DEFER",t[t.ASYNC=3]="ASYNC"}(o||(o={}));const r="dist/mobile/",i="dist/mobile/internal",c="css/mobile/",s="css/mobile/internal"},80161:function(t,e,n){n.d(e,{addEntries:function(){return _},addStatic:function(){return v}});var o=n(94950),r=n(52078),i=n(86313),c=n(35062),s=n(21131),a=n(67024),l=n(59400),u=n(98584),E=n(34683),d=n(79049),S=n(38691),p=n(19518);function _(t=[],e=a.LOADING_MODE.ASYNC,n=!1){return Promise.all(t.map((t=>{const _=(0,i.getEntryAssets)(t);if(!_.length)return(0,u.logError)(new Error(`Not found assets for entry ${t}`)),Promise.resolve();const v=s.isCSSPreloadEnabled&&e===a.LOADING_MODE.DEFER&&(0,l.isCSSFile)(t),C=_.map((t=>(0,l.isCSSFile)(t)?(0,i.loadStaticFile)(t,v).then((t=>{t instanceof HTMLLinkElement&&v&&(t.rel="stylesheet")})):(0,i.loadStaticFile)(t,v))),T=[...C];if((0,E.partConfigEnabled)("mvk_fix_static_manager_race_condition")){const e=(0,c.waitEntryStart)(t);T.push(e);const n=[0,1,2,3].includes(p.default.getConnectionEffectiveTypeID());Promise.allSettled(C).then((()=>{Promise.race([e.then((()=>!0)),(0,d.sleep)(n?6e4:2e4).then((()=>!1))]).then((e=>{e||((0,S.statlogsValueEvent)("mvk_js_execute_timeout",t,(0,s.isModernJS)()),console.error(new Error(`${t} execution timeout is exceeded. Force mark it as loaded`)),(0,c.markEntryLoaded)(t))}))}))}return n&&(0,E.partConfigEnabled)("mvk_navigation_progress_bar")&&!(0,o.isAppShellRunning)()&&r.ProgressBarManager.start(T),Promise.all(T)})))}function v(t=[],e=a.LOADING_MODE.ASYNC){return _(t,e)}},59400:function(t,e,n){n.d(e,{findCSSLinkTagByPath:function(){return l},findScriptTagByPath:function(){return a},isCSSFile:function(){return c},isJSFile:function(){return i}});var o=n(4731),r=n(39009);function i(t){return t.endsWith(".js")}function c(t){return t.endsWith(".css")}const s=new RegExp(`^https:\\/\\/st[-\\d]*\\.${(0,o.escapeRE)((0,r.getHostName)())}`,"i");new RegExp(`${s.source}$`,"i");function a(t){return document.head.querySelector(`script[src^='${t}']`)}function l(t,e=document.head){return e.querySelector(`link[rel='stylesheet'][href^='${t}']`)}},90345:function(t,e,n){n.d(e,{delayedExecution:function(){return r},idleCallback:function(){return i}});var o=n(19746);const r=t=>{(0,o.onDomReady)((()=>{try{requestIdleCallback(t)}catch(e){setTimeout(t)}}))},i=(t,e)=>{try{requestIdleCallback(t,e)}catch(e){setTimeout(t)}}},59595:function(t,e,n){var o,r,i;n.d(e,{ColorSchemeMode:function(){return o},ColorSchemeName:function(){return r},SchemeColors:function(){return i}}),function(t){t.Light="light",t.Dark="dark",t.Auto="auto"}(o||(o={})),function(t){t.Dark="space_gray",t.Light="bright_light",t.WebDark="vkcom_dark",t.WebLight="vkcom_light"}(r||(r={})),function(t){t.Dark="#222222",t.Light="#ffffff"}(i||(i={}))},33892:function(t,e,n){n.d(e,{TIMESPENT_SCREEN_COUNTER_IDS:function(){return o},TIMESPENT_SERVICE_COUNTER_IDS:function(){return r},TimespentCollector:function(){return u},getScreenTimespentCollector:function(){return E},getServiceTimespentCollector:function(){return d}});var o,r,i=n(99518),c=n(99212),s=n(28703),a=n(38253),l=n(66753);!function(t){t[t.FEED=5]="FEED",t[t.MESSENGER=7]="MESSENGER",t[t.MINI_APPS=75]="MINI_APPS",t[t.VIDEO_SHOWCASE_VIEW=63]="VIDEO_SHOWCASE_VIEW",t[t.VIDEO_VIEW=20]="VIDEO_VIEW",t[t.DATING=67]="DATING",t[t.SHORT_VIDEOS=3]="SHORT_VIDEOS",t[t.SHORT_VIDEOS_ENGAGEMENT_3_ITEMS=76]="SHORT_VIDEOS_ENGAGEMENT_3_ITEMS",t[t.AUDIO=i.MyTrackerActivityId.MusicScreen]="AUDIO"}(o||(o={})),function(t){t[t.MUSIC_ENGAGEMENT_30S=1]="MUSIC_ENGAGEMENT_30S",t[t.CALLS_IN_CALL=21]="CALLS_IN_CALL",t[t.VIDEO_VIEW_30S=77]="VIDEO_VIEW_30S"}(r||(r={}));class u{startVisibilityChangeListener(){document.addEventListener("visibilitychange",(()=>{document.hidden?this.onScreenHide():this.onScreenShow()}))}startPageCloseListener(){window.addEventListener("beforeunload",(()=>{this.active.forEach(((t,e)=>{this.finish(e)}))}))}get isDebug(){return!1}warn(...t){this.isDebug||console.warn("[MyTrackerTimespent]",...t)}onScreenHide(){if("service"===this.type)return;const t=Date.now();this.startData.forEach(((e,n)=>{var o;var r;const i=(null!=(o=this.timespent.get(n))?o:0)+(t-(null!=(r=e.span_ts)?r:e.start_ts));this.timespent.set(n,i),this.startData.set(n,{...e,span_ts:Date.now()}),this.hideTimestamp=Date.now()}))}onScreenShow(){"service"!==this.type&&(this.hideTimestamp=null,this.startData.forEach(((t,e)=>{this.startData.set(e,{...t,span_ts:Date.now()})})))}start(t){this.active.has(t)?this.isDebug&&this.warn("Запись таймспента #%s уже началась. Проверьте механизм записи.",t):(this.active.add(t),this.startData.set(t,{...this.getCurrentTimingMetadata(),start_ts:Date.now()}),this.tmrTimespentUtils.tmrStartTimespent(t,"service"===this.type))}finish(t){if(!this.active.has(t))return void(this.isDebug&&this.warn("Не удалось завершить запись таймспента #%s. Проверьте механизм записи.",t));this.active.delete(t),this.tmrTimespentUtils.tmrFinishTimespent(t,"service"===this.type);const e=this.startData.get(t);if(!e)return;var n;this.startData.delete(t);const o=null!=(n=e.span_ts)?n:e.start_ts;var r;const i=null!=(r=this.hideTimestamp)?r:Date.now(),c=i-o;var s;const l=(null!=(s=this.timespent.get(t))?s:0)+c;(0,a.saveStatlogEvents)({name:"tmp_tmr_timespent",value:l,keys:[this.type,t]}),this.collector.logEvent({activity_id:t,counter_id:this.counterId,start_time:Math.floor(o/1e3),end_time:Math.floor(i/1e3)}),this.timespent.delete(t)}getCurrentTimingMetadata(){var t,e;return{module:(null==(t=window.cur)?void 0:t.module)||"unknown",screen:(null==(e=window.cur)?void 0:e.screen)||"unknown"}}constructor(t,e){this.active=new Set,this.startData=new Map,this.timespent=new Map,this.collector=new l.MTTimespentStatCollector,this.hideTimestamp=null,this.type=t;const{tmrFinishTimespent:n=s.tmrFinishTimespent,tmrStartTimespent:o=s.tmrStartTimespent}=e?(0,s.getCustomCounterIdTmrUtils)(e):{};this.tmrTimespentUtils={tmrFinishTimespent:n,tmrStartTimespent:o},this.counterId=parseInt(null!=e?e:s.counterId),this.startVisibilityChangeListener(),this.startPageCloseListener()}}const E=(0,c.makeSharedState)("myTrackerScreenTimespentCollector",(()=>new u("screen")),{version:1}),d=(0,c.makeSharedState)("myTrackerServiceTimespentCollector",(()=>new u("service")),{version:1})},30876:function(t,e,n){n.d(e,{handleModuleChanged:function(){return c}});var o=n(33892);const r={audio:o.TIMESPENT_SCREEN_COUNTER_IDS.AUDIO,feed:o.TIMESPENT_SCREEN_COUNTER_IDS.FEED,mini_apps_catalog:o.TIMESPENT_SCREEN_COUNTER_IDS.MINI_APPS,im:o.TIMESPENT_SCREEN_COUNTER_IDS.MESSENGER,mail:o.TIMESPENT_SCREEN_COUNTER_IDS.MESSENGER};let i="";function c(t){if(t===i)return;const e=(0,o.getScreenTimespentCollector)(),n=r[i];n&&e.finish(n),i=t;const c=r[t];c&&e.start(c)}},15648:function(t,e,n){n.d(e,{ColorScheme:function(){return a},ColorSchemeMode:function(){return s.ColorSchemeMode},ColorSchemeName:function(){return s.ColorSchemeName},colorScheme:function(){return l}});var o,r=n(77987),i=n(39009),c=n(38691),s=n(59595);!function(t){t.DARK="dark",t.LIGHT="light"}(o||(o={}));class a{init(t){if(this.isExecuted)return;if(this.schemesMap=t.schemesMap,this.setMode(t.mode),this.initSubscribers.forEach((t=>{t()})),(0,c.statlogsValueEvent)("web_dark_theme",this.getMode(),this.getScheme(),Number(this.isDarkScheme())),!a.isSchemesAutoSwitchingSupported())return;window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(t=>{this.currentMode===s.ColorSchemeMode.Auto&&this.setScheme(t.matches)})),this.isExecuted=!0}setScheme(t){var e,n;a.isSchemesSupported()&&(this.applyScheme(document.body,t?s.ColorSchemeName.Dark:s.ColorSchemeName.Light),this.currentIsDark=t,null==(e=document.querySelector("meta[name=theme-color]"))||e.setAttribute("content",t?s.SchemeColors.Dark:s.SchemeColors.Light),null==(n=document.querySelector("meta[name=color-scheme]"))||n.setAttribute("content",t?"dark":"light"),this.isSchemeSavingAllowed&&(0,r.setCookie)("remixdark_color_scheme",Number(t),365),this.subscribers.forEach((t=>{t()})))}static getAppearanceByScheme(){switch(document.body.getAttribute("scheme")){case s.ColorSchemeName.Dark:case s.ColorSchemeName.WebDark:return"dark"}return"light"}isDarkScheme(){return this.currentIsDark}getMode(){return this.currentMode}setMode(t){let e=!1;switch(t){case s.ColorSchemeMode.Light:e=!1;break;case s.ColorSchemeMode.Dark:e=!0;break;case s.ColorSchemeMode.Auto:if(a.isSchemesAutoSwitchingSupported()){e=window.matchMedia("(prefers-color-scheme: dark)").matches}else t=s.ColorSchemeMode.Light}this.currentMode=t,this.setScheme(e),this.isModeSavingAllowed&&(0,r.setCookie)("remixcolor_scheme_mode",t,365)}getScheme(){return(0,i.isMvk)()?this.getMVKScheme():this.getWebScheme()}getMVKScheme(){return this.isDarkScheme()?s.ColorSchemeName.Dark:s.ColorSchemeName.Light}getWebScheme(){return this.isDarkScheme()?s.ColorSchemeName.WebDark:s.ColorSchemeName.WebLight}applyScheme(t,e){var n;const o=(null==(n=this.schemesMap)?void 0:n[e])||e;t.setAttribute("scheme",o)}subscribe(t){return this.subscribers.push(t),()=>{this.subscribers=this.subscribers.filter((e=>t!==e))}}onInit(t){return this.initSubscribers.push(t),()=>{this.initSubscribers=this.initSubscribers.filter((e=>t!==e))}}static isSchemesSupported(){return window.CSS&&CSS.supports&&CSS.supports("color","var(--custom-property)")}static isSchemesAutoSwitchingSupported(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme)").matches}constructor(){this.subscribers=[],this.initSubscribers=[],this.isExecuted=!1,this.isModeSavingAllowed=!0,this.isSchemeSavingAllowed=!0}}let l;l=window.colorScheme?window.colorScheme:new a,window.colorScheme=l,window.isSchemesSupported=a.isSchemesSupported.bind(null)},66753:function(t,e,n){n.d(e,{ActionStatCollector:function(){return d},ClickStatCollector:function(){return S},EventScreens:function(){return o.EventScreens},MTTimespentStatCollector:function(){return v},NavigationProductionStatEventTypes:function(){return o.NavigationProductionStatEventTypes},NavigationStatCollector:function(){return u.NavigationStatCollector},ProductionStatCollector:function(){return E.ProductionStatCollector},RegistrationFieldItemNames:function(){return o.RegistrationFieldItemNames},RegistrationFieldItemValues:function(){return o.RegistrationFieldItemValues},RegistrationItemEventTypes:function(){return o.RegistrationItemEventTypes},RegistrationItemStatCollector:function(){return _},ViewStatCollector:function(){return p},adMiniAppsEventItemStat:function(){return g},bridgeEventItemStat:function(){return m},clipDescriptionStatsCollector:function(){return U},easterEggsItemStat:function(){return h},gamesFeedBlockStatsCollector:function(){return R},getScreen:function(){return C.getScreen},marketingTransitionItemStat:function(){return T},miniAppsItemStats:function(){return y},personalDiscountEventItemStat:function(){return f},profileActionButtonCollector:function(){return A},searchStatsCollector:function(){return N},searchViewStatCollector:function(){return O},showcaseStatsCollector:function(){return M},snowballsActionEventController:function(){return L},snowballsClickEventController:function(){return V},surveyMiniAppsEventItemStat:function(){return I},unverifiedScreenEventCollector:function(){return b},videoAuthorFilterClickCollector:function(){return k},videoUploadStatsCollector:function(){return D},vkAppsActionMenuItemStat:function(){return P},vkConnectNavigationCollector:function(){return w}});var o=n(19095),r=n(77987);var i=n(34683),c=n(48747),s=n(4731);class a{logEvent(t,e){const n=this.productionStatCollector.getBaseEvent(),r={...n,screen:"main",prev_nav_id:this.lastNavEventId,prev_event_id:n.prev_id||0,type:o.ProductionStatEventTypes.TYPE_ACTION,[o.ProductionStatEventTypes.TYPE_ACTION]:{type:o.ActionProductionStatEventTypes.TYPE_VK_CONNECT_NAVIGATION_ITEM,[o.ActionProductionStatEventTypes.TYPE_VK_CONNECT_NAVIGATION_ITEM]:t}};this.lastNavEventId=r.id,this.productionStatCollector.logEvent(r,e)}logServiceNavigationOpen(t){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_OPEN,fields:t})}logServiceNavigationClose(t){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_CLOSE,fields:t})}logServiceNavigationClick(t,e,n){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_CLICK,fields:[{name:t,str_value:e,int_value:n}]})}logAccountActionsOpen(t){const e={event_type:o.IVkConnectNavigationItemEventType.POPUP_OPEN};a.addFlowTypeIfFeatureExists(e,t),this.logEvent(e)}logAccountActionsClose(t){const e={event_type:o.IVkConnectNavigationItemEventType.POPUP_CLOSE};a.addFlowTypeIfFeatureExists(e,t),this.logEvent(e)}logAccountActionsEnterLk(t="account_actions",e){const n={event_type:o.IVkConnectNavigationItemEventType.CLICK_ENTER_LK,flow_service:t};a.addFlowTypeIfFeatureExists(n,e),this.logEvent(n)}logAccountActionsVkPay(t="account_actions"){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_VK_PAY,flow_service:t})}logAccountActionsVkCombo(t="account_actions"){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_VK_COMBO,flow_service:t})}logMultiAccountShown(){this.registrationItemStat.logEvent(o.RegistrationItemEventTypes.POPUP_OPEN,o.EventScreens.MAIN,o.EventScreens.MULTI_ACC_SWITCHER,{force:!0})}logTopNavElements(t){t.includes("settings")?this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_SETTINGS}):t.includes("support")?this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_SUPPORT}):t.includes("theme")&&this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_THEME})}logOnepassOnboardingShown(){this.registrationItemStat.logEvent(o.RegistrationItemEventTypes.SCREEN_PROCEED,o.EventScreens.NOWHERE,o.EventScreens.MEET_PASSKEY,{force:!0})}logOnepassOnboardingSkip(t){this.registrationItemStat.logEvent(o.RegistrationItemEventTypes.REFUSE_ONBOARDING_PASSKEY,t,void 0,{force:!0})}logOnepassOnboardingPlug(){this.registrationItemStat.logEvent(o.RegistrationItemEventTypes.SCREEN_PROCEED,o.EventScreens.CONNECT_PASSKEY,o.EventScreens.CONNECTED_KEYS,{force:!0})}logOnboardingChangePage(t,e){this.registrationItemStat.logEvent(o.RegistrationItemEventTypes.SCREEN_PROCEED,t,e,{force:!0})}logCancelOnExit(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CANCEL_ON_EXIT})}logSaveLoginModalShow(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.SAVE_LOGIN_MODAL_SHOW})}logStartPhoneCUA(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.START_PHONE_CUA})}static addFlowTypeIfFeatureExists(t,e){e&&Object.assign(t,{flow_type:e})}logUnbanRecommendationModalShow(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.UNBLOCK_PROTECT_ACCOUNT_SHOW,flow_service:o.UnblockAccountField.flow_service,screen:o.UnblockAccountField.screen})}logUnbanRecommendationConnect(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.UNBLOCK_PROTECT_ACCOUNT_CONNECT,flow_service:o.UnblockAccountField.flow_service,screen:o.UnblockAccountField.screen})}logUnbanRecommendationCancellation(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.UNBLOCK_PROTECT_ACCOUNT_CANCELLATION,flow_service:o.UnblockAccountField.flow_service,screen:o.UnblockAccountField.screen})}constructor(){this.lastNavEventId=0,this.productionStatCollector=new E.ProductionStatCollector,this.actionStatCollector=new d(this.productionStatCollector),this.registrationItemStat=new _(this.actionStatCollector)}}var l=n(46561);var u=n(12166),E=n(85647);class d{logEvent(t,e){const n={...this.productionStatCollector.getBaseEvent(),type:o.ProductionStatEventTypes.TYPE_ACTION,[o.ProductionStatEventTypes.TYPE_ACTION]:t};this.productionStatCollector.logEvent(n,e)}constructor(t){this.productionStatCollector=t}}class S{logEvent(t,e,n,r){const i={...this.productionStatCollector.getBaseEvent(),type:o.ProductionStatEventTypes.TYPE_CLICK,screen:n,[o.ProductionStatEventTypes.TYPE_CLICK]:{item:e,...t}};this.productionStatCollector.logEvent(i,r)}constructor(t){this.productionStatCollector=t}}class p{logEvent(t,e,n){const r={...this.productionStatCollector.getBaseEvent(n),type:o.ProductionStatEventTypes.TYPE_VIEW,[o.ProductionStatEventTypes.TYPE_VIEW]:{item:e,...t}};this.productionStatCollector.logEvent(r)}constructor(t){this.productionStatCollector=t}}class _{logFieldInteraction(t,e,n=!1){[o.RegistrationFieldItemNames.PASSWORD,o.RegistrationFieldItemNames.SMS_CODE,o.RegistrationFieldItemNames.RULES_ACCEPT].includes(t)&&(e=e?"1":"0");const r=n?"0":this.actionStatCollector.productionStatCollector.getCurrentTime(!1),i=this.fields[t];i?(i.value=e,i.end_interaction_time=r):this.fields[t]={name:t,value:e,start_interaction_time:r,end_interaction_time:r}}getFieldInteractions(){return Object.values(this.fields)}resetFieldInteractions(){for(const t of Object.getOwnPropertyNames(this.fields))delete this.fields[t]}logEvent(t,e,n,c,s,a,l,u){if(!(0,i.partConfigEnabled)("registration_item_stat"))return;var E;const d={event_type:t,screen:e,unauth_id:null!=(E=(0,r.getCookie)("remixstlid"))?E:(0,r.getCookie)("remixstid"),sid:(0,r.getCookie)("remixnreg_sid")};[o.RegistrationItemEventTypes.SCREEN_PROCEED,o.RegistrationItemEventTypes.SCREEN_SKIP,o.RegistrationItemEventTypes.SCREEN_RETURN,o.RegistrationItemEventTypes.INCORRECT_SMS_CODE,o.RegistrationItemEventTypes.POPUP_OPEN].includes(t)&&(d.screen_to=n,d.fields=this.getFieldInteractions(),this.resetFieldInteractions()),t!==o.RegistrationItemEventTypes.SELECT_COUNTRY_DONE&&t!==o.RegistrationItemEventTypes.PROCEED_OTHER_COUNTRY_CODE||!this.fields[o.RegistrationFieldItemNames.SELECT_COUNTRY_NAME]||(d.fields=this.getFieldInteractions().filter((t=>t.name===o.RegistrationFieldItemNames.SELECT_COUNTRY_NAME)),delete this.fields[o.RegistrationFieldItemNames.SELECT_COUNTRY_NAME]),t!==o.RegistrationItemEventTypes.SWITCH_FROM_ACCOUNT&&t!==o.RegistrationItemEventTypes.SWITCH_TO_ACCOUNT||!l||(d.user_id=l),s&&(d.fields=[...d.fields||[],...s]),a&&(d.app_id=a),u&&(d.multiacc_id=u);const S={type:o.ActionProductionStatEventTypes.TYPE_REGISTRATION_ITEM,[o.ActionProductionStatEventTypes.TYPE_REGISTRATION_ITEM]:d};this.actionStatCollector.logEvent(S,c)}constructor(t){this.actionStatCollector=t,this.fields={}}}class v{logEvent(t){const e={type:o.ActionProductionStatEventTypes.TYPE_MT_TIMESPENT_ITEM,[o.ActionProductionStatEventTypes.TYPE_MT_TIMESPENT_ITEM]:t};this.actionStatCollector.logEvent(e)}constructor(){this.productionStatCollector=new E.ProductionStatCollector,this.actionStatCollector=new d(this.productionStatCollector)}}var C=n(60803);const T=new class{logEvent(t,e,n,i=""){const c={campaign:t,source:n,event:e,unauth_id:(0,r.getCookie)("remixstid")};i&&(c.url=i);const s={type:o.ActionProductionStatEventTypes.TYPE_MARKETING_TRANSITION_ITEM,[o.ActionProductionStatEventTypes.TYPE_MARKETING_TRANSITION_ITEM]:c};this.actionStatCollector.logEvent(s)}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.actionStatCollector=new d(this.productStatCollector)}},h=new class{logEvent(t,e,n,r){const i={egg_id:t,egg_event_id:e,position_id:n,event_type:r},c={type:o.ActionProductionStatEventTypes.TYPE_EASTER_EGGS_ITEM,[o.ActionProductionStatEventTypes.TYPE_EASTER_EGGS_ITEM]:i};this.actionStatCollector.logEvent(c)}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.actionStatCollector=new d(this.productStatCollector)}},m=new class{logEvent(t,e,n,r,a,l){const u={webview_url:t,mini_app_id:e,event:n,error:r};(0,i.partConfigEnabled)("mini_apps_send_session_uuid_bridge_events")&&(u.session_uuid=a),(0,i.partConfigEnabled)("mini_apps_bridge_stats_bridge_log_field")&&(0,s.isString)(l)&&(u.bridge_log=(0,c.default)(l,{length:this.BRIDGE_LOG_MAX_LENGTH}));const E={type:o.ActionProductionStatEventTypes.TYPE_BRIDGE_EVENT_ITEM,[o.ActionProductionStatEventTypes.TYPE_BRIDGE_EVENT_ITEM]:u};this.actionStatCollector.logEvent(E)}constructor(){this.BRIDGE_LOG_MAX_LENGTH=256,this.productStatCollector=new E.ProductionStatCollector,this.actionStatCollector=new d(this.productStatCollector)}},g=new class{logEvent(t,e){const n={mini_app_id:t,event:e},r={type:o.ActionProductionStatEventTypes.TYPE_AD_MINI_APPS_EVENT_ITEM,[o.ActionProductionStatEventTypes.TYPE_AD_MINI_APPS_EVENT_ITEM]:n};this.actionStatCollector.logEvent(r)}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.actionStatCollector=new d(this.productStatCollector)}},I=new class{logEvent(t,e){const n={mini_app_id:t,event:e},r={type:o.ActionProductionStatEventTypes.TYPE_SURVEY_MINI_APPS_EVENT_ITEM,[o.ActionProductionStatEventTypes.TYPE_SURVEY_MINI_APPS_EVENT_ITEM]:n};this.actionStatCollector.logEvent(r)}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.actionStatCollector=new d(this.productStatCollector)}},f=new class{logEvent(t){const e={type:o.ActionProductionStatEventTypes.TYPE_MINI_APPS_PERSONAL_DISCOUNT_EVENT_ITEM,[o.ActionProductionStatEventTypes.TYPE_MINI_APPS_PERSONAL_DISCOUNT_EVENT_ITEM]:t};this.actionStatCollector.logEvent(e)}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.actionStatCollector=new d(this.productStatCollector)}},P=new class{logEvent(t,e,n){const r={type:n},i={type:o.ClickProductionStatEventTypes.TYPE_MINI_APP_ITEM,[o.ClickProductionStatEventTypes.TYPE_MINI_APP_ITEM]:r},c={type:e,id:t};this.clickStatCollector.logEvent(i,c)}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.clickStatCollector=new S(this.productStatCollector)}},y=new class{logEvent(t,e,n="",r=""){const i={...t,...e},c={type:o.ViewProductionStatEventTypes.TYPE_MINI_APPS_VIEW_ITEM,[o.ViewProductionStatEventTypes.TYPE_MINI_APPS_VIEW_ITEM]:i,start_view:n,end_view:r};this.viewStatCollector.logEvent(c,t)}logLaunchExtendedEvent(t,e){const n={};n[o.EventItemType.MINI_APPS_LAUNCH_EXTENDED]={webview_url:e,mini_app_id:t},y.logEvent({type:o.EventItemType.MINI_APPS_LAUNCH_EXTENDED},n)}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.viewStatCollector=new p(this.productStatCollector)}},w=new a,A=(new class{logEvent(t,e){const n=this.productionStatCollector.getBaseEvent(),r={...n,prev_nav_id:this.lastNavEventId,prev_event_id:n.prev_id||0,screen:"main",type:o.ProductionStatEventTypes.TYPE_ACTION,[o.ProductionStatEventTypes.TYPE_ACTION]:{type:o.ActionProductionStatEventTypes.TYPE_VKID_ECOSYSTEM_NAVIGATION_ITEM,[o.ActionProductionStatEventTypes.TYPE_VKID_ECOSYSTEM_NAVIGATION_ITEM]:{...t,screen:"ecosystem_navigation"}}};this.lastNavEventId=r.id,this.productionStatCollector.logEvent(r,e)}constructor(){this.lastNavEventId=0,this.productionStatCollector=new E.ProductionStatCollector}},new class{logEvent(t,e){const n={app_id:t,event_name:e},r={type:o.ActionProductionStatEventTypes.TYPE_GAMES_JS_SDK_ITEM,[o.ActionProductionStatEventTypes.TYPE_GAMES_JS_SDK_ITEM]:n};this.actionStatCollector.logEvent(r)}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.actionStatCollector=new d(this.productStatCollector)}},new class{sendNavEvent(t){const e={type:o.NavigationProductionStatEventTypes.TYPE_SERVICES_MAP_NAVGO,screen:"uslugi",subtype:o.NavigationProductionStatEventTypes.GO,[o.NavigationProductionStatEventTypes.TYPE_SERVICES_MAP_NAVGO]:t};this.navigationStatCollector.logEvent(e)}sendActionEvent(t){const e={type:o.ActionProductionStatEventTypes.TYPE_SERVICES_MAP_ITEM,[o.ActionProductionStatEventTypes.TYPE_SERVICES_MAP_ITEM]:t};this.actionStatCollector.logEvent(e)}constructor(){this.productionStatCollector=new E.ProductionStatCollector,this.actionStatCollector=new d(this.productionStatCollector),this.navigationStatCollector=new u.NavigationStatCollector(this.productionStatCollector)}},new class{logEvent(t,e){const n={type:t},r={type:o.ClickProductionStatEventTypes.TYPE_PROFILE_ACTION_BUTTON_ITEM,[o.ClickProductionStatEventTypes.TYPE_PROFILE_ACTION_BUTTON_ITEM]:n};this.clickStatCollector.logEvent(r,{id:e,type:o.EventItemType.MINI_APP})}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.clickStatCollector=new S(this.productStatCollector)}}),N=new class{constructor(){this.logEvent=t=>{const e={type:o.ClickProductionStatEventTypes.TYPE_SEARCH_CLICK_ITEM,[o.ClickProductionStatEventTypes.TYPE_SEARCH_CLICK_ITEM]:{action:t.action}},n={type:t.type,track_code:t.track_code};this.clickStatCollector.logEvent(e,n)},this.logOutOfSerpEvent=t=>{const e=(0,l.getTrackCode)("search_track_code");e&&this.logEvent({...t,track_code:e})},this.productStatCollector=new E.ProductionStatCollector,this.clickStatCollector=new S(this.productStatCollector)}},M=(new class{logEvent(t){const e={type:o.ClickProductionStatEventTypes.TYPE_SHORT_VIDEO_CLICK_ITEM,[o.ClickProductionStatEventTypes.TYPE_SHORT_VIDEO_CLICK_ITEM]:{action:t.action}},n={type:t.type,track_code:t.track_code};this.clickStatCollector.logEvent(e,n)}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.clickStatCollector=new S(this.productStatCollector)}},new class{logEvent(t,e){const n={type:o.EventItemType.SUPER_APP},r={type:o.EventItemType.TYPE_SUPERAPP_CLICK,[o.EventItemType.TYPE_SUPERAPP_CLICK]:t};this.clickStatCollector.logEvent(r,n,void 0,e)}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.clickStatCollector=new S(this.productStatCollector)}}),k=(new class{constructor(){this.logEvent=(t,e)=>{this.viewStatCollector.logEvent({position:e},t)},this.productStatCollector=new E.ProductionStatCollector,this.viewStatCollector=new p(this.productStatCollector)}},new class{logEvent(t,e){const n={subtype:e?o.NavigationProductionStatEventTypes.TAB_OPEN:o.NavigationProductionStatEventTypes.GO,screen:e?"video_subscriptions":"video_catalog",screen_to:"video_subscriptions"};e&&(n.item={type:o.EventItemType.CATALOG_ITEM,track_code:e}),t&&(n.destination_item={type:o.EventItemType.CATALOG_ITEM,track_code:t}),this.navStatCollector.logEvent(n)}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.navStatCollector=new u.NavigationStatCollector(this.productStatCollector)}},new class{logEvent(t){const e={type:o.ClickProductionStatEventTypes.TYPE_VIDEO_AUTHOR_FILTER_CLICK,[o.ClickProductionStatEventTypes.TYPE_VIDEO_AUTHOR_FILTER_CLICK]:{selected:!0}},n={type:o.EventItemType.CATALOG_ITEM,track_code:t};this.clickStatCollector.logEvent(e,n,"video_subscriptions")}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.clickStatCollector=new S(this.productStatCollector)}}),O=(new class{logOpenEvent(t,e){const n={subtype:o.NavigationProductionStatEventTypes.GO,screen:"video_catalog",screen_to:e,item:{type:o.EventItemType.VIDEO_ALL_SUBSCRIPTIONS_BUTTON,track_code:t}};this.navStatCollector.logEvent(n)}logCloseEvent(t){const e={subtype:o.NavigationProductionStatEventTypes.BACK,screen:"video_subscriptions_all_creators",destination_item:{type:o.EventItemType.VIDEO_ALL_SUBSCRIPTIONS_BUTTON,track_code:t}};this.navStatCollector.logEvent(e)}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.navStatCollector=new u.NavigationStatCollector(this.productStatCollector)}},new class{logEvent(){}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.navigationStatCollector=new u.NavigationStatCollector(this.productStatCollector)}},new class{constructor(){this.logEvent=t=>{this.viewStatCollector.logEvent({},t)},this.productStatCollector=new E.ProductionStatCollector,this.viewStatCollector=new p(this.productStatCollector)}}),R=new class{logEvent(t){const e={subtype:o.NavigationProductionStatEventTypes.GO,screen:"feed"},n={type:o.NavigationProductionStatEventTypes.TYPE_GAMES_FEED_BLOCK_NAVGO,[o.GAMES_FEED_BLOCK_ITEM]:{track_code:t}};this.navgoStatCollector.logEvent({...e,...n})}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.navgoStatCollector=new u.NavigationStatCollector(this.productStatCollector)}},b=(new class{logEvent({miniAppId:t,groupId:e,eventType:n,source:r,vkRef:i,options:c}){const s={event:n,group_id:e};r&&(s.source=r);const a={type:o.ClickProductionStatEventTypes.TYPE_COMMUNITY_APPS_CATALOG_ITEM,[o.ClickProductionStatEventTypes.TYPE_COMMUNITY_APPS_CATALOG_ITEM]:s},l={type:o.EventItemType.MINI_APP,id:t,vk_ref:i};c&&(l.track_code=JSON.stringify(c)),this.clickStatCollector.logEvent(a,l)}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.clickStatCollector=new S(this.productStatCollector)}},new class{logEvent(t,e,n){const r={event:t};e&&(r.source=e),n&&(r.target=n);const i={type:o.ActionProductionStatEventTypes.TYPE_COMMUNITY_APPS_CATALOG_EVENT_ITEM,[o.ActionProductionStatEventTypes.TYPE_COMMUNITY_APPS_CATALOG_EVENT_ITEM]:r};this.actionStatCollector.logEvent(i)}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.actionStatCollector=new d(this.productStatCollector)}},new class{logEvent(t,e){const n={type:o.ActionProductionStatEventTypes.TYPE_UNVERIFIED_SCREEN_ITEM,[o.ActionProductionStatEventTypes.TYPE_UNVERIFIED_SCREEN_ITEM]:{event_type:{event_type:t},mini_app_id:e}};this.actionStatCollector.logEvent(n,{force:!0})}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.actionStatCollector=new d(this.productStatCollector)}}),D=new class{logEvent(t){const e={type:o.ActionProductionStatEventTypes.TYPE_VIDEO_UPLOAD_ITEM,[o.ActionProductionStatEventTypes.TYPE_VIDEO_UPLOAD_ITEM]:t};this.actionStatCollector.logEvent(e)}constructor(){this.productionStatCollector=new E.ProductionStatCollector,this.actionStatCollector=new d(this.productionStatCollector)}},L=(new class{logEvent(t){const e={type:o.ActionProductionStatEventTypes.TYPE_VIDEO_PUBLISH_ITEM,[o.ActionProductionStatEventTypes.TYPE_VIDEO_PUBLISH_ITEM]:t};this.actionStatCollector.logEvent(e)}constructor(){this.productionStatCollector=new E.ProductionStatCollector,this.actionStatCollector=new d(this.productionStatCollector)}},new class{logEvent(t,e){const n={type:o.ClickProductionStatEventTypes.TYPE_VIDEO_PLAYLIST_ITEM,[o.ClickProductionStatEventTypes.TYPE_VIDEO_PLAYLIST_ITEM]:t};this.clickStatCollector.logEvent(n,{type:o.EventItemType.CLICK_ITEM},e)}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.clickStatCollector=new S(this.productStatCollector)}},new class{logEvent(t,{appId:e,navScreen:n,ref:r}){const i={type:o.ActionProductionStatEventTypes.TYPE_MINI_APPS_ACTION_ITEM,[o.ActionProductionStatEventTypes.TYPE_MINI_APPS_ACTION_ITEM]:{event_type:{event_type:t},mini_app_id:e,nav_screen:n,vk_ref:r}};this.actionStatCollector.logEvent(i,{force:!0})}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.actionStatCollector=new d(this.productStatCollector)}},new class{logEvent(t){const e={type:o.ActionProductionStatEventTypes.TYPE_SNOWBALLS_EVENTS_ITEM,[o.ActionProductionStatEventTypes.TYPE_SNOWBALLS_EVENTS_ITEM]:t};this.actionStatCollector.logEvent(e)}constructor(){this.productionStatCollector=new E.ProductionStatCollector,this.actionStatCollector=new d(this.productionStatCollector)}}),V=new class{logEvent(t){const e={type:o.ClickProductionStatEventTypes.TYPE_SNOWBALL_EVENTS_ITEM,[o.ClickProductionStatEventTypes.TYPE_SNOWBALL_EVENTS_ITEM]:t},n={type:o.EventItemType.PROFILE};this.clickStatCollector.logEvent(e,n)}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.clickStatCollector=new S(this.productStatCollector)}},U=new class{logEvent(t){const e={type:o.ClickProductionStatEventTypes.TYPE_CLIPS_DESCRIPTION_CLICK_ITEM,[o.ClickProductionStatEventTypes.TYPE_CLIPS_DESCRIPTION_CLICK_ITEM]:t};this.clickStatCollector.logEvent(e,{type:o.EventItemType.CLIP})}constructor(){this.productStatCollector=new E.ProductionStatCollector,this.clickStatCollector=new S(this.productStatCollector)}}},79049:function(t,e,n){function o(t){return new Promise((e=>setTimeout(e,t)))}n.d(e,{sleep:function(){return o}})},46561:function(t,e,n){n.d(e,{TRACK_CODE_TYPES:function(){return o},getTrackCode:function(){return r},setTrackCode:function(){return i}});const o=["search_track_code","video_track_code","trackcode"],r=t=>{var e;return(null==(e=history.state)?void 0:e[t])||new URLSearchParams(window.location.search).get(t)},i=(t,e)=>{e&&history.replaceState({...history.state,[t]:e},"")}}}]);